<html lang="en">
<head>
  <title>Lucem</title>
  <link href='https://fonts.googleapis.com/css?family=Raleway:500,700,900' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/assets/stylesheets/index.css"/>
  <link rel="stylesheet" href="/assets/stylesheets/modal.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
  <script src="/assets/javascripts/modal.js"></script>
  <script>
    var validate = function() {
      var url = '/validate';

      $.get(url, function(res) {
        if(res.error == null) {
          window.location = '/sessions';
        }
      });
    };

    $(document).ready(function() {
      validate();

      $("#signup").click(function() {
        createModal("30%", "50vh");
        $("#modal-container").load("/assets/html/signup.html");
      });
      $("#login").submit(function(e) {
        e.preventDefault();
        var url = "/login";
        var obj = {"email":$('#email').val(), "password":$('#password').val()};

        $.ajax({
          type: 'POST',
          contentType: 'application/json',
          url: url,
          data: JSON.stringify(obj)
        }).done(function(res) {
          if(res.error != null) {
            alert(res.error);
          } else {
            window.location = '/sessions';
          }
        });
      });
    });
  </script>
</head>
<body>
  <div id="global-container">
    <div id="home-container">
    <div id="logo-container">
      <h1 class="uppercase">Lucem</h1>
      <hr/>
    </div>
    <div id="form-container-home">
      <form id="login">
        <span class="label uppercase">Email:</span>
        <input id="email" class="home-input"name="email" type="text"></input>
        <span class="label uppercase">Password:</span>
        <input id="password" class="home-input" name="password" type="password"></input>
        <button id="login" class="home-btn uppercase">Log In</button>
      </form>
      <button id="signup" class="home-btn uppercase">Sign Up</button>
    </div>
    </div>
  </div>
</body>
